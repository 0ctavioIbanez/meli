<div class="flex items-baseline">
    <section class="w-2/3 pr-3">
        <app-accordion title="Detalles del producto" [active]="accordionToShow === 'product'">
            <form class="form-control flex flex-wrap">
                <div class="w-4/6 px-1">
                    <label for="">Nombre</label>
                    <input type="text" name="name" class="control" placeholder="Smart watch" [(ngModel)]="product.name">
                </div>
                <div class="w-1/6 px-1">
                    <label for="">Costo</label>
                    <input type="number" name="amount" class="control" pattern="[0-9]" placeholder="1,234.00" min="0"
                        [(ngModel)]="product['amount']">
                </div>
                <div class="w-1/6 px-1">
                    <label for="">Precio</label>
                    <input type="number" name="price" class="control" pattern="[0-9]" placeholder="1,234.00" min="0"
                        [(ngModel)]="product['price']">
                </div>
                <div class="w-full">
                    <label for="">Imágen</label>
                    <file-pond #pond class="shadow-sm"></file-pond>
                </div>
                <div class="w-full px-1">
                    <label for="">Descripción</label>
                    <textarea name="description" class="control" placeholder="Fantástico reloj inteligente..."
                        [(ngModel)]="product['description']"></textarea>
                </div>
            </form>
        </app-accordion>

        <div class="mt-3">
            <app-accordion title="Modelos" class="mt-6" [disabled]="accordionToShow !== 'models'"
                [active]="accordionToShow === 'models'">
                <form class="form-control flex flex-wrap">
                    <div class="w-2/4 px-1">
                        <label for="">Talla</label>
                        <input type="text" name="size" class="control" [(ngModel)]="model.size">
                    </div>
                    <div class="w-2/4 px-1">
                        <label for="">Color (texto)</label>
                        <input type="text" name="color" class="control" [(ngModel)]="model.color">
                    </div>
                    <div class="w-1/4 px-1">
                        <label for="">Color (código)</label>
                        <input type="color" name="hex" class="control" [(ngModel)]="model.hex">
                    </div>
                    <div class="w-1/4 px-1">
                        <label for="">Stock</label>
                        <input type="text" name="stock" class="control" [(ngModel)]="model.stock">
                    </div>
                </form>
            </app-accordion>
        </div>



        <div class="flex justify-end mt-3">
            <button *ngIf="accordionToShow === 'product'" class="bg-yellow-400 text-indigo-900 primary-btn"
                [disabled]="!isProductFilled" (click)="onAddClick()">
                Continuar
            </button>
            <button *ngIf="accordionToShow === 'models'" class="bg-yellow-400 text-indigo-900 primary-btn"
                [disabled]="!isModelFilled" (click)="onAddModel()">
                Agregar Modelo
            </button>
        </div>
    </section>
    <section class="w-1/3 bg-indigo-100 rounded-xl shadow shadow-indigo-100 p-3 flex flex-col justify-between grow">
        <div>
            <div class="section-title">
                <h2 class="text-white">Resúmen del producto</h2>
            </div>
            <div class="mt-3 font-semibold">
                <p class="text-indigo-900">Nombre: <span class="font-normal">{{ product.name }}</span></p>
                <p class="text-indigo-900">Precio: <span class="font-normal">{{ product['amount'] }}</span></p>
                <p class="text-indigo-900">Descripción: <span class="font-normal">{{ product['description'] }}</span>
                </p>
            </div>

            <div class="section-title mt-6">
                <h2>Modelos agregados</h2>
            </div>
            <div class="mt-3">
                <div class="overflow-x-scroll">
                    <div class="flex">
                        <div class="rounded-lg shadow-md bg-white shadow-indigo-200 p-3 w-32 flex-shrink-0 aspect-square mr-3"
                            *ngFor="let _model of models">
                            <p>Color: {{ _model.color }}</p>
                            <p>Talla: {{ _model.size }}</p>
                            <p>Stock: {{ _model.stock }}</p>
                            <div *ngIf="paramProductId" class="flex justify-center border-t border-slate-300 pt-2">
                                <button class="bg-indigo-100 hover:bg-indigo-200 mr-1 rounded-full px-1.5 pt-1 flex flex-col items-center justify-center text-indigo-700" (click)="editModel(_model)">
                                    <i-tabler style="width: 18px;" name="edit" />
                                </button>
                                <button class="bg-indigo-100 hover:bg-indigo-200 rounded-full px-1.5 pt-1 flex flex-col items-center justify-center text-indigo-700" (click)="deleteModel(_model.id)">
                                    <i-tabler style="width: 18px;" name="trash-x" />
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mt-6">
            <button class="bg-yellow-400 w-full text-indigo-900 primary-btn" [disabled]="!models.length"
                (click)="createProduct()">Finalizar</button>
        </div>
    </section>
</div>